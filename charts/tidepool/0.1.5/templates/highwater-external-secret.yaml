{{ if eq .Values.global.secrets.external.source "awsSecretsManager" }}
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  name: highwater
  namespace: {{ .Release.Namespace }}
secretDescriptor:
  backendType: secretsManager
  data:
  - key: {{ .Release.Namespace }}/highwater
    name: APIKEY
    property: APIKEY
  - key: {{ .Release.Namespace }}/highwater
    name: TOKEN
    property: TOKEN
  - key: {{ .Release.Namespace }}/highwater
    name: UCSF_APIKEY
    property: UCSF_APIKEY
  - key: {{ .Release.Namespace }}/highwater
    name: UCSF_WHITELIST
    property: UCSF_WHITELIST
{{ end }}

