{{ if .Values.global.secrets.external.source "awsSecretsManager" }}
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  name: kissmetrics
  namespace: {{ .Release.Namespace }}
secretDescriptor:
  backendType: secretsManager
  data:
  - key: {{ include "charts.secret.prefix" .}}/kissmetrics
    name: KissmetricsAPIKey
    property: KissmetricsAPIKey
  - key: {{ include "charts.secret.prefix" .}}/kissmetrics
    name: KissmetricsToken
    property: KissmetricsToken
  - key: {{ include "charts.secret.prefix" .}}/kissmetrics
    name: UCSFKissmetricsAPIKey
    property: UCSFKissmetricsAPIKey
  - key: {{ include "charts.secret.prefix" .}}/kissmetrics
    name: UCSFWhitelist
    property: UCSFWhitelist
{{ end }}
