{{ if eq .Values.global.secrets.external.source "awsSecretsManager" }}
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  name: {{ .Values.global.mongo.secretName }}
  namespace: {{ .Release.Namespace }}
secretDescriptor:
  backendType: secretsManager
  data:
  - key: {{ include "charts.secret.prefix" .}}/mongo
    name: password
    property: password
{{ end }}

