nameOverride: ""
fullnameOverride: ""
domain: "tidepool.org"
environment: production
aws:
  region: us-west-2
includeSecrets: true
usessl: true
resources:
  {}
  # If you do want to specify resources, uncomment the following
  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
  # limits:
  #  cpu: 100m
  #  memory: 128Mi
  # requests:
  #  cpu: 100m
  #  memory: 128Mi

ambassador:
  enabled: true
  fullnameOverride: ambassador
  replicaCount: 1
  service:
    http:
      port: 80
    https:
      port: 443
    securityContext:
      runAsNonRoot: false
    externalTrafficPolicy: Local
    annotations:
      sidecar.istio.io/inject: "false"
      service.beta.kubernetes.io/aws-load-balancer-type: "nlb"
      service.beta.kubernetes.io/aws-load-balancer-cross-zone-load-balancing-enabled: "true"
      getambassador.io/config: |
        ---
        apiVersion: ambassador/v1
        kind: Module
        name: tls
        config:
          server:
            secret: ambassador-certs
            enabled: True
            redirect_cleartext_from: 8080
        --- 
        apiVersion: ambassador/v1
        kind:  Module
        name:  ambassador
        config:
          service_port: 8443
          use_proxy_proto: false
          use_remote_address: true
          x_forwarded_proto_redirect: true
          cors:
            origins: "*"
            methods: "GET, POST, PUT, PATCH, DELETE"
            headers:  "authorization, content-type, x-tidepool-session-token, x-tidepool-trace-request, x-tidepool-trace-session"
            credentials: true
            exposed_headers: "x-tidepool-session-token, x-tidepool-trace-request, x-tidepool-trace-session"
            max_age: "0"
            
gloo:
  enabled: false
  namespace:
    create: true
image:
  pullPolicy: IfNotPresent
blip: 
  port: '3000'
  image: tidepool/blip:v1.17.0
export:
  host: export
  image: tidepool/export:v1.3.2
  port: '9300'
gatekeeper: 
  image: tidepool/gatekeeper:v0.7.2
  host: gatekeeper
  port: '9123'
hakken: 
  host: hakken
  port: '8000'
  skip: true
highwater: 
  image: tidepool/highwater:v0.3.5
  host: highwater
  port: '9191'
  salt: gf78fSEI7tOQQP9xfXMO9HfRyMnW4Sx88Q
hydrophone:
  image: tidepool/hydrophone:v0.9.0-release.1
  ses:
    fromAddress: ''
  bucket: ''
  host: hydrophone
  port: '9157'
jellyfish: 
  image: tidepool/jellyfish:v0.12.3-release.2
  port: '9122'
  salt: 'itNkczadZ1EeC9fUWR3LnbKFagtYYLOk'
  bucket: ''
  storage: 'local'
messageapi: 
  image: tidepool/message-api:v0.7.14-release.1
  host: message-api
  port: '9119'
  window: 21
mailhog:
  image: mailhog/mailhog:latest
  ports:
    smtp: '1025'
    http: '8025'
  volume: mailhog1
mongo: 
  enabled: true
  host: 'mongodb'
  username: ''
  password: ''
  port: '27017'
  tls: 'false'
  optParams: ''
nosqlclient:
  image: 'mongoclient/mongoclient'
  enabled: 'true'
  port: '3001'
platformAuth:
  image: tidepool/platform-auth:1.32.0-release.4
  host: platform-auth
  port: '9222'
platformBlob:
  image: tidepool/platform-blob:1.32.0-release.4
  host: platform-blob
  port: '9225'
  service:
    unstructured:
      store:
        file: {directory: "_data/blobs"}
        s3: {bucket: "", prefix: "blobs"}
        type: file
platformData:
  image: tidepool/platform-data:1.32.0-release.4
  host: platform-data
  port: '9220'
platformImage:
  image: tidepool/platform-image:1.32.0-release.4
  host: platform-image
  port: '9226'
  service:
    unstructured:
      store:
        file: {directory: "_data/image"}
        s3: {bucket: "", prefix: "images"}
        type: file
platformMigrations:
  image: tidepool/platform-migrations:1.32.0-release.4
platformNotification:
  image: tidepool/platform-notification:1.32.0-release.4
  host: platform-notification
  port: '9223'
platformTask:
  image: tidepool/platform-task:1.32.0-release.4
  host: platform-task
  port: '9224'
platformTools:
  image: tidepool/platform-tools:1.32.0-release.4
platformUser:
  image: tidepool/platform-user:1.32.0-release.4
  host: platform-user
  port: '9221'
seagull: 
  image: tidepool/seagull:v0.7.2-release.4
  host: seagull
  port: '9120'
  salt: KEWRWBe5yyMnW4SxosfZ2EkbZHkyqJ5f
service:
  provider:
    dexcom:
      token: { url: 'https://api.dexcom.com/v1/oauth2/token' }
      authorize: { url: 'https://api.dexcom.com/v1/oauth2/login?prompt=login' }
      client: { url: "https://api.dexcom.com" }
shoreline:
  image: tidepool/shoreline:v0.14.2-release.1
  host: shoreline
  longtermkey: abcdefghijklmnopqrstuvwxyz
  port: '9107'
  salt: ADihSEI7tOQQP9xfXMO9HfRpXKu1NpIJ
  verification: {secret: +skip}
  mailchimp:
     url: https://us7.api.mailchimp.com/3.0
tidewhisperer:
  image: tidepool/tide-whisperer:v0.13.0-release.3
  host: tide-whisperer
  port: '9127'

