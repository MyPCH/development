# Auto-generated file by gloo-gateway. Do not edit.
{{ if (eq .Values.gateway.name "ambassador") }}
--- #file: default-blip.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-app.tidepool.org|{{.Release.Namespace}}-app-internal'
host_regex: true
kind: Mapping
method: GET|OPTIONS|POST|PUT|PATCH|DELETE
method_regex: true
name: default-blip
prefix: /
rewrite: ''
service: blip.default:3000
--- #file: default-export.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|OPTIONS|POST|PUT|PATCH|DELETE
method_regex: true
name: default-export
path_redirect: 'false'
prefix: /export/
rewrite: /
service: export.default:9300
--- #file: default-gatekeeper-access.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|OPTIONS|POST|PUT|PATCH|DELETE
method_regex: true
name: default-gatekeeper-access
prefix: /access/
rewrite: ''
service: gatekeeper.default:9123
--- #file: default-highwater-metrics.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|OPTIONS|POST|PUT|PATCH|DELETE
method_regex: true
name: default-highwater-metrics
path_redirect: 'false'
prefix: /metrics/
rewrite: /
service: highwater.default:9191
--- #file: default-hydrophone-confirm.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|OPTIONS|POST|PUT|PATCH|DELETE
method_regex: true
name: default-hydrophone-confirm
path_redirect: 'false'
prefix: /confirm/
rewrite: /
service: hydrophone.default:9157
--- #file: default-jellyfish.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-default-uploads-internal.tidepool.org|{{.Release.Namespace}}-default-uploads-internal-internal'
host_regex: true
kind: Mapping
method: GET|OPTIONS|POST|PUT|PATCH|DELETE
method_regex: true
name: default-jellyfish
path_redirect: 'false'
prefix: /
rewrite: ''
service: jellyfish.default:9122
--- #file: default-message-api-message.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|OPTIONS|POST|PUT|PATCH|DELETE
method_regex: true
name: default-message-api-message
path_redirect: 'false'
prefix: /message/
rewrite: /
service: message-api.default:9119
--- #file: default-platform-auth-authorize.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|DELETE
method_regex: true
name: default-platform-auth-authorize
prefix: /v1/oauth/[^/]+/authorize
prefix_regex: true
rewrite: ''
service: platform-auth.default:9222
--- #file: default-platform-auth-provider-sessions.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|PUT|DELETE
method_regex: true
name: default-platform-auth-provider-sessions
prefix: /v1/provider_sessions/[^/]+
prefix_regex: true
rewrite: ''
service: platform-auth.default:9222
--- #file: default-platform-auth-redirect.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET
name: default-platform-auth-redirect
prefix: /v1/oauth/[^/]+/redirect
prefix_regex: true
rewrite: ''
service: platform-auth.default:9222
--- #file: default-platform-auth-restricted-tokens.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|PUT|DELETE
method_regex: true
name: default-platform-auth-restricted-tokens
prefix: /v1/restricted_tokens
rewrite: ''
service: platform-auth.default:9222
--- #file: default-platform-auth-user-provider-sessions.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|POST|DELETE
method_regex: true
name: default-platform-auth-user-provider-sessions
prefix: /v1/users/[^/]+/provider_sessions
prefix_regex: true
rewrite: ''
service: platform-auth.default:9222
--- #file: default-platform-auth-user-restricted-tokens.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|POST|DELETE
method_regex: true
name: default-platform-auth-user-restricted-tokens
prefix: /v1/users/[^/]+/restricted_tokens
prefix_regex: true
rewrite: ''
service: platform-auth.default:9222
--- #file: default-platform-blob-blobs.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|DELETE
method_regex: true
name: default-platform-blob-blobs
prefix: /v1/blobs/[^/]+
prefix_regex: true
rewrite: ''
service: platform-blob.default:9225
--- #file: default-platform-blob-blobs-content.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET
name: default-platform-blob-blobs-content
prefix: /v1/blobs/[^/]+/content
prefix_regex: true
rewrite: ''
service: platform-blob.default:9225
--- #file: default-platform-blob-user-blobs.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|POST|DELETE
method_regex: true
name: default-platform-blob-user-blobs
prefix: /v1/users/[^/]+/blobs
prefix_regex: true
rewrite: ''
service: platform-blob.default:9225
--- #file: default-platform-data-data.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|OPTIONS|POST|PUT|PATCH|DELETE
method_regex: true
name: default-platform-data-data
path_redirect: 'false'
prefix: /v1/data/
rewrite: /
service: platform-data.default:9220
--- #file: default-platform-data-data_sets.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET
name: default-platform-data-data_sets
prefix: /v1/data_sets
rewrite: ''
service: platform-data.default:9220
--- #file: default-platform-data-data_sources.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|PUT|DELETE
method_regex: true
name: default-platform-data-data_sources
prefix: /v1/data_sources/[^/]+
prefix_regex: true
rewrite: ''
service: platform-data.default:9220
--- #file: default-platform-data-dataservices.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|OPTIONS|POST|PUT|PATCH|DELETE
method_regex: true
name: default-platform-data-dataservices
path_redirect: 'false'
prefix: /dataservices/
rewrite: /
service: platform-data.default:9220
--- #file: default-platform-data-datasets.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: POST|PUT|DELETE
method_regex: true
name: default-platform-data-datasets
prefix: /v1/datasets
rewrite: ''
service: platform-data.default:9220
--- #file: default-platform-data-time.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET
name: default-platform-data-time
prefix: /v1/time
rewrite: ''
service: platform-data.default:9220
--- #file: default-platform-data-user_data.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: DELETE
name: default-platform-data-user_data
prefix: /v1/users/[^/]+/data
prefix_regex: true
rewrite: ''
service: platform-data.default:9220
--- #file: default-platform-data-user_data_sets.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET
name: default-platform-data-user_data_sets
prefix: /v1/users/[^/]+/data_sets
prefix_regex: true
rewrite: ''
service: platform-data.default:9220
--- #file: default-platform-data-user_data_sources.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|POST|DELETE|OPTIONS
method_regex: true
name: default-platform-data-user_data_sources
prefix: /v1/users/[^/]+/data_sources
prefix_regex: true
rewrite: ''
service: platform-data.default:9220
--- #file: default-platform-data-user_datasets.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|POST
method_regex: true
name: default-platform-data-user_datasets
prefix: /v1/users/[^/]+/datasets
prefix_regex: true
rewrite: ''
service: platform-data.default:9220
--- #file: default-platform-image.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|PUT|DELETE
method_regex: true
name: default-platform-image
prefix: /v1/images
prefix_regex: false
rewrite: ''
service: platform-image.default:9226
--- #file: default-platform-image-users-images.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|POST|DELETE
method_regex: true
name: default-platform-image-users-images
prefix: /v1/users/[^/]+/images
prefix_regex: true
rewrite: ''
service: platform-image.default:9226
--- #file: default-platform-image-users-images-regex.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|POST|DELETE
method_regex: true
name: default-platform-image-users-images-regex
prefix: /v1/users/[^/]+/images/.+
prefix_regex: true
rewrite: ''
service: platform-image.default:9226
--- #file: default-platform-task-tasks.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|POST
method_regex: true
name: default-platform-task-tasks
prefix: /v1/tasks
rewrite: ''
service: platform-task.default:9224
--- #file: default-platform-task-tasks-id.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|PUT|DELETE
method_regex: true
name: default-platform-task-tasks-id
prefix: /v1/tasks/[^/*]
prefix_regex: true
rewrite: ''
service: platform-task.default:9224
--- #file: default-platform-user-users.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|DELETE
method_regex: true
name: default-platform-user-users
prefix: /v1/users/[^/*]
prefix_regex: true
rewrite: ''
service: platform-user.default:9221
--- #file: default-platform-user-userservices.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|OPTIONS|POST|PUT|PATCH|DELETE
method_regex: true
name: default-platform-user-userservices
path_redirect: 'false'
prefix: /userservices/
rewrite: /
service: platform-user.default:9221
--- #file: default-seagull.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|OPTIONS|POST|PUT|PATCH|DELETE
method_regex: true
name: default-seagull
path_redirect: 'false'
prefix: /metadata/
rewrite: /
service: seagull.default:9120
--- #file: default-shoreline-auth.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|OPTIONS|POST|PUT|PATCH|DELETE
method_regex: true
name: default-shoreline-auth
path_redirect: 'false'
prefix: /auth/
rewrite: /
service: shoreline.default:9107
--- #file: default-tide-whisperer-data.yaml
apiVersion: getambassador.io/v1
host: '{{.Release.Namespace}}-api.tidepool.org|{{.Release.Namespace}}-api-internal'
host_regex: true
kind: Mapping
method: GET|OPTIONS|POST|PUT|PATCH|DELETE
method_regex: true
name: default-tide-whisperer-data
path_redirect: 'false'
prefix: /data/
rewrite: /
service: tide-whisperer.default:9127
{{ end }}
