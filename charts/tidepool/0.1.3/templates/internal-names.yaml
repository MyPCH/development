apiVersion: v1
kind: Service
metadata:
  name: '{{.Release.Namespace}}-api-internal'
  namespace: '{{.Release.Namespace}}'
spec:
  externalName: {{ .Values.gateway.proxy.name -}}.{{- .Values.gateway.proxy.namespace -}}.svc.cluster.local
  ports:
  - port: 80
  type: ExternalName
---
apiVersion: v1
kind: Service
metadata:
  name: '{{.Release.Namespace}}-app-internal'
  namespace: '{{.Release.Namespace}}'
spec:
  externalName: {{ .Values.gateway.proxy.name -}}.{{- .Values.gateway.proxy.namespace -}}.svc.cluster.local
  ports:
  - port: 80
  type: ExternalName
---
apiVersion: v1
kind: Service
metadata:
  name: '{{.Release.Namespace}}-uploads-internal'
  namespace: '{{.Release.Namespace}}'
spec:
  externalName: {{ .Values.gateway.proxy.name -}}.{{- .Values.gateway.proxy.namespace -}}.svc.cluster.local
  ports:
  - port: 80
  type: ExternalName
