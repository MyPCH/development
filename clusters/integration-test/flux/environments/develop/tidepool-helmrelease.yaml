---
apiVersion: flux.weave.works/v1beta1
kind: HelmRelease
metadata:
  name: tidepool
  namespace: develop
  annotations:
    flux.weave.works/automated: "true"
    flux.weave.works/tag.auth: glob:develop-*
    flux.weave.works/tag.blip: glob:develop-*
    flux.weave.works/tag.blob: glob:develop-*
    flux.weave.works/tag.data: glob:develop-*
    flux.weave.works/tag.export: glob:develop-*
    flux.weave.works/tag.gatekeeper: glob:develop-*
    flux.weave.works/tag.highwater: glob:develop-*
    flux.weave.works/tag.hydrophone: glob:develop-*
    flux.weave.works/tag.image: glob:develop-*
    flux.weave.works/tag.jellyfish: glob:develop-*
    flux.weave.works/tag.mailhog: semver:1.*
    flux.weave.works/tag.messageapi: glob:develop-*
    flux.weave.works/tag.migrations: glob:develop-*
    flux.weave.works/tag.notification: glob:develop-*
    flux.weave.works/tag.seagull: glob:develop-*
    flux.weave.works/tag.shoreline: glob:debug-*
    flux.weave.works/tag.task: glob:develop-*
    flux.weave.works/tag.tidewhisperer: glob:develop-*
    flux.weave.works/tag.tools: glob:develop-*
    flux.weave.works/tag.user: glob:develop-*
spec:
  releaseName: develop-tidepool
  chart:
    git: git@github.com:tidepool-org/development
    path: charts/tidepool/0.1.4
    ref: k8s
  values:
    global:
      gateway:
        domain:
          name: integration-test.tidepool.org
        name: gloo
        https:
          enabled: false
        http:
          enabled: true
      mongo:
        enabled: false
      includeSecrets: false
      namespace:
        create: false
    nosqlclient:
      enabled: false
    blip:
      image: tidepool/blip:develop-9d3397f6f88b8c5d73242c508cf75d2e3ac45061
    export:
      enabled: true
      image: tidepool/export:develop-b00327cf2a986cf4c63aecc9140c1df63c5caa59
    gatekeeper:
      image: tidepool/gatekeeper:develop-b5775ba2af1a78bdbcb426ea3e5dc2b2456c8366
    highwater:
      image: tidepool/highwater:develop-3f0838c29e726230b616638d97f593ba07607bab
    hydrophone:
      image: tidepool/hydrophone:develop-bd539dcefe0b0539142adb74c223ef87111dafce
    jellyfish:
      image: tidepool/jellyfish:develop-4f941b7000a023e7e4de6d7988d43e0b6b31cd41
    messageapi:
      image: tidepool/message-api:develop-292f3153b9f0d56f6dc6ceba159ef82d42d3343b
    auth:
      image: tidepool/platform-auth:develop-8f6f88ace8f5f6852876201b2ba5e0e1ffae3f5f
    blob:
      image: tidepool/platform-blob:develop-8f6f88ace8f5f6852876201b2ba5e0e1ffae3f5f
    data:
      image: tidepool/platform-data:develop-8f6f88ace8f5f6852876201b2ba5e0e1ffae3f5f
    image:
      image: tidepool/platform-image:develop-8f6f88ace8f5f6852876201b2ba5e0e1ffae3f5f
    migrations:
      image: tidepool/platform-migrations:develop-8f6f88ace8f5f6852876201b2ba5e0e1ffae3f5f
    notification:
      enabled: false
      image: tidepool/platform-notification:develop-8f6f88ace8f5f6852876201b2ba5e0e1ffae3f5f
    task:
      image: tidepool/platform-task:develop-8f6f88ace8f5f6852876201b2ba5e0e1ffae3f5f
    tools:
      enabled: false
      image: tidepool/platform-tools:develop-8f6f88ace8f5f6852876201b2ba5e0e1ffae3f5f
    user:
      image: tidepool/platform-user:develop-8f6f88ace8f5f6852876201b2ba5e0e1ffae3f5f
    seagull:
      image: tidepool/seagull:develop-89644fffd966a7d4b5e790f0cd65768ac6b0384f
    shoreline:
      image: tidepool/shoreline:debug-5c12cfb915a007ae70a9735b4d04c2a35920ae7f
    tidewhisperer:
      image: tidepool/tide-whisperer:develop-c216adaebaad5120598f8db1fb385a61ebb638c9
