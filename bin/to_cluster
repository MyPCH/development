#!/bin/bash
# switch to the cluster whose name matches the given prefix
#
prefix=$1
matches=$(match_cluster $prefix)
matcharray=($matches)
count=${#matcharray[@]}
if [ $count -eq 1 ]
then
    kubectl config use-context derrick@$matches
elif [ $count -eq 0 ]
then
    echo "no matching cluster"
    exit 1
else
    echo "multiple matching clusters: $matches"
    exit 1
fi
