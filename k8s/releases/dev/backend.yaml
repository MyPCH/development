apiVersion: flux.weave.works/v1beta1
kind: HelmRelease
metadata:
  name: backend
  namespace: default
  annotations:
    flux.weave.works/automated: "false"
    flux.weave.works/tag.shoreline: "glob:noHakken*"
    flux.weave.works/tag.tidewhisperer: "glob:noHakken*"
    flux.weave.works/tag.hakken: "glob:noHakken*"
    flux.weave.works/tag.blip: "glob:*"
    flux.weave.works/tag.seagull: "glob:noHakken*"
    flux.weave.works/tag.hydrophone: "glob:noHakken*"
    flux.weave.works/tag.messageapi: "glob:quiet*"
    flux.weave.works/tag.platformAuth: "glob:quiet*"
    flux.weave.works/tag.platformBlob: "glob:quiet*"
    flux.weave.works/tag.platformData: "glob:quiet*"
    flux.weave.works/tag.platformMigrations: "glob:quiet*"
    flux.weave.works/tag.platformNotification: "glob:quiet*"
    flux.weave.works/tag.platformTask: "glob:quiet*"
    flux.weave.works/tag.platformUser: "glob:quiet*"
spec:
  releaseName: backend-dev
  chart:
    git: git@github.com:tidepool-org/dev-ops
    path: k8s/charts/backend
    ref: master
  values:
    environment: production
    externalapi:
      host: localhost
    shoreline:
      image: "tidepool/shoreline:noHakken"
    tidewhisperer:
      image: "tidepool/tide-whisperer:noHakken"
    hakken:
      image: "tidepool/hakken:noHakken"
      skipHakken: true
    seagull:
      image: "tidepool/seagull:noHakken"
    hydrophone:
      image: "tidepool/hydrophone:noHakken"
    messageapi:
      image: "tidepool/message-api:quiet"
    platformAuth:
      image: "tidepool/platform-auth:quiet"
    platformBlob:
      image: "tidepool/platform-blob:quiet"
    platformData:
      image: "tidepool/platform-data:quiet"
    platformMigrations:
      image: "tidepool/platform-migrations:quiet"
    platformNotification:
      image: "tidepool/platform-notification:quiet"
    platformTask:
      image: "tidepool/platform-task:quiet"
    platformUser:
      image: "tidepool/platform-user:quiet"

