---
apiVersion: flux.weave.works/v1beta1
kind: HelmRelease
metadata:
  name: tidepool
  namespace: qa1
  annotations:
    flux.weave.works/automated: "true"
    flux.weave.works/tag.shoreline: "glob:develop-ba7f1a7"
    flux.weave.works/tag.tidewhisperer: "glob:develop-a572827"
    flux.weave.works/tag.hakken: "glob:noHakken*"
    flux.weave.works/tag.blip: "glob:*"
    flux.weave.works/tag.gatekeeper: "glob:*"
    flux.weave.works/tag.highwater: "glob:*"
    flux.weave.works/tag.jellyfish: "glob:*"
    flux.weave.works/tag.mailhog: "semver:1.*"
    flux.weave.works/tag.export: "glob:v1.3.*"
    flux.weave.works/tag.seagull: "glob:debug"
    flux.weave.works/tag.hydrophone: "glob:develop-2e69bbc"
    flux.weave.works/tag.messageapi: "glob:quiet*"
    flux.weave.works/tag.platformAuth: "glob:quiet*"
    flux.weave.works/tag.platformBlob: "glob:quiet*"
    flux.weave.works/tag.platformData: "glob:quiet*"
    flux.weave.works/tag.platformMigrations: "glob:quiet*"
    flux.weave.works/tag.platformNotification: "glob:quiet*"
    flux.weave.works/tag.platformTask: "glob:quiet*"
    flux.weave.works/tag.platformTools: "glob:*"
    flux.weave.works/tag.platformUser: "glob:quiet*"
spec:
  skipDepUpdate: true
  chart:
    git: git@github.com:tidepool-org/development
    path: k8s/charts/tidepool
    ref: k8s
  values:
    usessl: false
    ambassador:
      enabled: true
    mongo: 
      enabled: false
    domain: "tidepool.org"
    gloo:
      enabled: false
      namespace:
        create: false
    hostnameOverride: ""
    includeSecrets: false
    blip:
      image: tidepool/blip:v1.18.0-export-units.2
    export:
      image: tidepool/export:v1.3.2
    gatekeeper:
      image: tidepool/gatekeeper:OAuth
    hakken:
      image: tidepool/hakken:noHakken
    highwater:
      image: tidepool/highwater:OAuth
    hydrophone:
      image: tidepool/hydrophone:develop-2e69bbc
      ses:
        fromAddress: "Tidepool <noreply@tidepool.org>"
        serverEndpoint: "https://email.us-west-2.amazonaws.com"
    jellyfish:
      enabled: true
      image: tidepool/jellyfish:OAuth
    messageapi:
      image: tidepool/message-api:quiet
    mailhog:
      image: mailhog/mailhog:v1.0.0
    platformAuth:
      image: tidepool/platform-auth:quiet
    platformBlob:
      image: tidepool/platform-blob:quiet
    platformData:
      image: tidepool/platform-data:quiet
    platformMigrations:
      image: tidepool/platform-migrations:quiet
    platformNotification:
      image: tidepool/platform-notification:quiet
    platformTask:
      image: tidepool/platform-task:quiet
    platformTools:
      image: tidepool/platform-tools:1.31.0-release.1
    platformUser:
      image: tidepool/platform-user:quiet
    seagull:
      image: tidepool/seagull:debug
    shoreline:
      image: tidepool/shoreline:develop-ba7f1a7
    tidewhisperer:
      image: tidepool/tide-whisperer:develop-a572827

