---
apiVersion: flux.weave.works/v1beta1
kind: HelmRelease
metadata:
  name: tidepool
  namespace: qa1
  annotations:
    flux.weave.works/automated: "false"
spec:
  skipDepUpdate: true
  chart:
    git: git@github.com:tidepool-org/development
    path: charts/tidepool/0.1.0
    ref: k8s
  values:
    usessl: true
    domain: "tidepool.org"
    ambassador:
      enabled: false
    mongo:
      enabled: false
      #username: MasterDocDbuser53FUglmgwKuKsvwr92ugcbbbhjCMX2uY6WonjTKfHg
      #password: U6UQJkxdCANnWDwufcVp3Dc5BxL5MsHfRkMEYUuDPiE
      #host: docdb-amazing-testing.cluster-ccgoncr6o4tf.us-west-2.docdb.amazonaws.com
      #optParams: "&replicaSet=rs0"
      #tls: true
      tls: false
    gloo:
      enabled: false
      namespace:
        create: false
    hostnameOverride: ""
    includeSecrets: false
    blip:
      image: tidepool/blip:v1.17.0
    export:
      image: tidepool/export:v1.3.2
    gatekeeper:
      image: tidepool/gatekeeper:v0.7.2
    highwater:
      image: tidepool/highwater:v0.3.6-release.1
    hydrophone:
      image: tidepool/hydrophone:v0.10.0-release.6
      ses:
        fromAddress: "Tidepool <noreply@tidepool.org>"
    jellyfish:
      enabled: true
      image: tidepool/jellyfish:v0.12.3-release.3
      storage: "aws/s3"
      bucket: "" # ensures that the generated bucket name is used
    messageapi:
      image: tidepool/message-api:v0.7.14-release.1
    mailhog:
      image: mailhog/mailhog:v1.0.0
    platformAuth:
      image: tidepool/platform-auth:1.33.0-release.1
    platformBlob:
      image: tidepool/platform-blob:1.33.0-release.1
      service:
        unstructured:
          store:
            type: s3
            s3:
              bucket: "" # ensures that the generated bucket name is used
              prefix: "blobs"
    platformData:
      image: tidepool/platform-data:1.33.0-release.1
    platformImage:
      image: tidepool/platform-image:1.33.0-release.1
      service:
        unstructured:
          store:
            type: s3
            s3:
              bucket: ""  # ensures that the generated bucket name is used
              prefix: "images"
    platformMigrations:
      image: tidepool/platform-migrations:1.33.0-release.1
    platformNotification:
      image: tidepool/platform-notification:1.33.0-release.1
    platformTask:
      image: tidepool/platform-task:1.33.0-release.1
    platformTools:
      image: tidepool/platform-tools:1.33.0-release.1
    platformUser:
      image: tidepool/platform-user:1.33.0-release.1
    seagull:
      image: tidepool/seagull:v0.7.2-release.4
    shoreline:
      image: tidepool/shoreline:v0.15.0-release.6
    tidewhisperer:
      image: tidepool/tide-whisperer:v0.14.0-release.3

